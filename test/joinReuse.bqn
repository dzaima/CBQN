âŸ¨Vâ‡Variation â‹„ LVâ‡ListVariationsâŸ©â†â€¢internal
AllEq â† !Â¨ (<âˆ˜âŠ‘â‰¡Â¨âŠ¢)
# all that's important in the output is that there are at least some "reuse:1"s and "reuse:0"s for each item; quoted errors the output are expected

{ wğ•Šx:
  â€¢Out "next"
  AllEq t â† {(â¥Š â‹ˆ â‰¢) (ğ•¨ V w)âˆ¾ğ•© V x}âŒœÂ´ LVÂ¨ ğ•¨â€¿ğ•©
  â€¢Out "" â‹„ â€¢Show âŠ‘t
}Â´Â¨ âŸ¨
  "ab"â€¿["01","23"]
  ["ab","cd"]â€¿"01"
  ["ab","cd","ef"]â€¿["01","23"]
  [["ab","cd"]â‹„["ef","gh"]â‹„["ij","kl"]]â€¿["01","23"]
âŸ©

{ğ•Š:

  { wğ•Šx:
    â€¢Out "next"
    AllEq t â† {(ğ•¨ V w)âˆ¾ğ•© V x â‹„ â€¢Out "Expected error, didn't get one; fail" â‹„ â€¢Exit 1}âŠ{ğ•Š:â€¢CurrentError@}âŒœÂ´ LVÂ¨ ğ•¨â€¿ğ•©
    â€¢Out "" â‹„ â€¢Show âŠ‘t
  }Â´Â¨ âŸ¨
    "abc"â€¿["01","23"]
    ["ab","cd"]â€¿"012"
    ["ab","cd","ef"]â€¿["012","345"]
    [["ab","cd"]â‹„["ef","gh"]â‹„["ij","kl"]]â€¿["012","345"]
  âŸ©
}âŸâŠ¢ 0=â‰ â€¢args