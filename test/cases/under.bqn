%DEF var Vâ†â€¢internal.Variation â‹„ LVâ†â€¢internal.ListVariations â‹„ CLRâ†â€¢internal.ClearRefs
%DEF tvar %USE var â‹„ _tvar â† {F _ğ•£ x: (CLR@) âŠ¢ {F ğ•© V x}Â¨ LV ğ•©; w F _ğ•£ x: (CLR@) âŠ¢ (LV ğ•¨) {(ğ•¨ V w) F ğ•© V x}âŒœ LV ğ•©}
%DEF eqvar âŸ¨_eqvarâŸ©â†âŠ‘â€¢args
%DEF evar %USE tvar â‹„ _evar â† {okâ†{â‡} â‹„ râ†â¥Šğ•¨ okâˆ˜ğ”½âŠ{ğ•Š: â€¢CurrentError@} _tvar ğ•© â‹„ {âŠ‘okâˆŠr? !"TEST FAIL: variation didn't error"; ("TEST FAIL: varying error messages"âŠ¸â‹ˆ ! 1=â‰ )â·r â‹„ (âŠ‘r)!0}}
%DEF eqerr %USE eqvar â‹„ _eqerr â† {okâ†{â‡} â‹„ râ†â¥Šğ•¨ okâˆ˜ğ”½âŠ{ğ•Š: â€¢CurrentError@}âŒœ ğ•© â‹„ {âŠ‘okâˆŠr? !"TEST FAIL: case didn't error"; ("TEST FAIL: varying error messages"âŠ¸â‹ˆ ! 1=â‰ )â·r â‹„ (âŠ‘r)!0}}
# Â¨ & Ë˜
# !% âŠ¢âŒ¾(âŠ¢Â¨) 4 # TODO enable
# !% âŠ¢âŒ¾(âŠ¢Ë˜) 4 # TODO enable

# Â¯0Â¨âŒ¾((â¥Šğ•¨)âŠ¸âŠ) ğ•©
%DEF nz InsNZ â† {â¥Š (Â¯64â†‘1)Ë˜âŒ¾((â¥Šğ•¨)âŠ¸âŠ)âŒ¾(64â€¿1â€¢bit._cast) â‰Ë˜ ğ•©} â‹„ IsNZ â† {(Â¯64â†‘1)âŠ¸â‰¡Ë˜ 64â€¿1â€¢bit._cast â‰Ë˜ ğ•©}
%USE nz â‹„ IsNZâŠ¸â‹ˆ 1â€¿2 InsNZ 0.5â€¿0â€¿1â€¿0â€¿Â¯1â€¿2 %% âŸ¨0â€¿1â€¿1â€¿0â€¿0â€¿0, 0.5â€¿0â€¿0â€¿0â€¿Â¯1â€¿2âŸ©
%USE nz â‹„ IsNZâŠ¸â‹ˆ 1â€¿2 InsNZ   0â€¿0â€¿1â€¿0â€¿Â¯1â€¿2 %% âŸ¨0â€¿1â€¿1â€¿0â€¿0â€¿0,   0â€¿0â€¿0â€¿0â€¿Â¯1â€¿2âŸ©

# âŒ¾(FâŠ¸Op)
10âŠ¸+âŒ¾((2Ã·Ëœâ‰¢)âŠ¸âŠ‘) â†•10 %% 0â€¿1â€¿2â€¿3â€¿4â€¿15â€¿6â€¿7â€¿8â€¿9
10âŠ¸+âŒ¾((2Ã·Ëœâ‰¢)âŠ‘âŠ¢) â†•10 %% 0â€¿1â€¿2â€¿3â€¿4â€¿15â€¿6â€¿7â€¿8â€¿9
10âŠ¸+âŒ¾((â†•2Ã·Ëœâ‰ )âŠ¸âŠ) â†•10 %% 10â€¿11â€¿12â€¿13â€¿14â€¿5â€¿6â€¿7â€¿8â€¿9
10âŠ¸+âŒ¾((2Ã·Ëœâ‰ )âŠ¸â†‘) â†•10 %% 10â€¿11â€¿12â€¿13â€¿14â€¿5â€¿6â€¿7â€¿8â€¿9
10âŠ¸+âŒ¾((2Ã·Ëœâ‰ )âŠ¸â¥Š) â†•10 %% 10â€¿11â€¿12â€¿13â€¿14â€¿5â€¿6â€¿7â€¿8â€¿9
10âŠ¸+âŒ¾((â†•âˆ˜â‰ <2Ã·Ëœâ‰ )âŠ¸/) â†•10 %% 10â€¿11â€¿12â€¿13â€¿14â€¿5â€¿6â€¿7â€¿8â€¿9
10âŠ¸+âŒ¾((2Ã·Ëœâ‰ )âŠ¸â†“) â†•10 %% 0â€¿1â€¿2â€¿3â€¿4â€¿15â€¿16â€¿17â€¿18â€¿19
(â†•10)âŠ¸+âŒ¾((2Ã·Ëœâ‰ )âŠ¸âŒ½) 10Ã—â†•10 %% 5â€¿16â€¿27â€¿38â€¿49â€¿50â€¿61â€¿72â€¿83â€¿94
âŒ½âŒ¾((Â¯1+=)âŠ¸â‰) 3â€¿3â¥Šâ†•9 %% 3â€¿3â¥Š2â€¿1â€¿0â€¿5â€¿4â€¿3â€¿8â€¿7â€¿6
!"Expected integer, got function" % 1âŠ¸+âŒ¾((Â¯1+â‰ )Ë™âŠ‘âŠ¢)"ab"
!"ğ•¨âŠ‘ğ•©: ğ•¨ must be a numeric array" % âŠ¢âŒ¾((â‰ âŠ‘âŸ¨@,@,Â¯1+â‰ âŸ©Ë™)âŠ¸âŠ‘)"ab"
!"ğ”½â—¶ğ•˜ğ•©: ğ•˜ must have rank 1 when index is a number" % âŠ¢âŒ¾(â‰ â—¶âŸ¨@,@,Â¯1+â‰ âŸ©âŠ¸âŠ‘)"ab"



# âŠ‘
!"ğ”½âŒ¾(aâŠ¸âŠ‘): Incompatible result elements" % 10â€¿20âŒ¾(âŸ¨1â€¿2,1â€¿2âŸ©âŠ¸âŠ‘) 4â€¿5â¥Šâ†•9
!"Expected integer, got character" % 1âŠ¸+âŒ¾('a'âŠ¸âŠ‘) "hello"
!"Expected integer, got 1.5" % 1âŠ¸+âŒ¾(1.5âŠ¸âŠ‘) "hello"
!"ğ”½âŒ¾(nâŠ¸âŠ‘)ğ•©: reading out-of-bounds (nâ‰¡100, 5â‰¡â‰ ğ•©)" % 1âŠ¸+âŒ¾(100âŠ¸âŠ‘) "hello"
!"ğ•¨âŠ‘ğ•©: ğ•© must be a list when ğ•¨ is a number (4â€¿4 â‰¡ â‰¢ğ•©)" % 1âŠ¸+âŒ¾(100âŠ¸âŠ‘) 4â€¿4â¥Šâ†•16
!"ğ”½âŒ¾(nestedâŠ¸âŠ‘)ğ•©: ğ”½ must return an array with the same shape as its input (expected âŸ¨2âŸ©, got âŸ¨3âŸ©)" % 10â€¿20â€¿30âŒ¾(âŸ¨1â€¿2,2â€¿1âŸ©âŠ¸âŠ‘) 4â€¿4â¥Šâ†•16
!"ğ”½âŒ¾(nestedâŠ¸âŠ‘)ğ•©: ğ”½ must return an array with the same shape as its input (expected unit array, got atom)" % 1âŒ¾((<â‹ˆ2)âŠ¸âŠ‘) â†•10
!"ğ”½âŒ¾(nestedâŠ¸âŠ‘)ğ•©: ğ”½ must return an array with the same shape as its input (expected unit array, got atom)" % 1âŒ¾((<1â€¿2)âŠ¸âŠ‘) 3â€¿3â¥Šâ†•9
!"ğ”½âŒ¾(nestedâŠ¸âŠ‘)ğ•©: ğ”½ must return an array with the same shape as its input (expected âŸ¨1âŸ©, got atom)" % 1âŒ¾((â‹ˆ1â€¿2)âŠ¸âŠ‘) 3â€¿3â¥Šâ†•9
!"ğ”½âŒ¾(nestedâŠ¸âŠ‘)ğ•©: ğ”½ must return an array with the same shape as its input (expected âŸ¨1âŸ©, got unit array)" % (<1)âŒ¾((â‹ˆ1â€¿2)âŠ¸âŠ‘) 3â€¿3â¥Šâ†•9
!"â¼: Inverse not found" % 1âŒ¾((<â‹ˆâ‹ˆ2)âŠ¸âŠ‘) â†•10
!"â¼: Inverse not found" % 1âŒ¾((<â‹ˆ1â€¿2)âŠ¸âŠ‘) 3â€¿3â¥Šâ†•9
!"â¼: Inverse not found" % (<1)âŒ¾((<âŸ¨1â€¿2,2â€¿1âŸ©)âŠ¸âŠ‘) 3â€¿3â¥Šâ†•9
!"â¼: Inverse not found" % 3â€¿4âŒ¾((<âŸ¨1â€¿2,2â€¿1âŸ©)âŠ¸âŠ‘) 3â€¿3â¥Šâ†•9
!"ğ•¨âŠ‘ğ•©: Leaf arrays in ğ•¨ must have rank 1 (element: (<2))" % 1âŒ¾((<2)âŠ¸âŠ‘) â†•10
!"ğ”½âŒ¾(nestedâŠ¸âŠ‘)ğ•©: ğ”½ must return an array with the same shape as its input (expected âŸ¨2âŸ©, got âŸ¨3âŸ©)" % 1âŠ¸âˆ¾âŒ¾(âŸ¨1â€¿2,2â€¿1âŸ©âŠ¸âŠ‘) 4â€¿4â¥Šâ†•16
!"ğ”½âŒ¾(nâŠ¸âŠ‘)ğ•©: reading out-of-bounds (nâ‰¡Â¯10, 3â‰¡â‰ ğ•©)" % 1âŠ¸+âŒ¾(Â¯10âŠ¸âŠ‘) â†•3
!"ğ•¨âŠ‘ğ•©: ğ•¨ contained list with mixed-type elements" % 'a'âŒ¾(1â€¿'a'âŠ¸âŠ‘) 4â€¿5â¥Šâ†•9
!"ğ•¨âŠ‘ğ•©: Indexing out-of-bounds (index 1â€¿5 in array of shape 4â€¿5)" % 'a'âŒ¾(1â€¿5âŠ¸âŠ‘) 4â€¿5â¥Šâ†•9
âŸ¨10,20â€¿30âŸ©âŒ¾(âŸ¨1â€¿2,âŸ¨1â€¿3,2â€¿1âŸ©âŸ©âŠ¸âŠ‘) 4â€¿5â¥Šâ†•9 %% 4â€¿5â¥Š0â€¿1â€¿2â€¿3â€¿4â€¿5â€¿6â€¿10â€¿20â€¿0â€¿1â€¿30â€¿3â€¿4â€¿5â€¿6â€¿7â€¿8â€¿0â€¿1
!"ğ•¨âŠ‘ğ•©: Picking item at wrong rank (index 1â€¿1â€¿1 in array of shape 10â€¿10)" % 1Â¨âŒ¾(1â€¿1â€¿1âŠ¸âŠ‘) 10â€¿10â¥Š1
!"ğ•¨âŠ‘ğ•©: Picking item at wrong rank (index âŸ¨1âŸ© in array of shape 10â€¿10)" % 1Â¨âŒ¾(âŸ¨1âŸ©âŠ¸âŠ‘) 10â€¿10â¥Š1
aâ†10â€¿10â€¿10â¥Šâ†•1000 â‹„ ! a â‰¡ aâŒ¾((â†•â‰¢a)âŠ¸âŠ‘) a
â‰ {ğ•Š: aâ†(1+â€¢rand.Range 200)â€¢rand.Range 2 â‹„ iâ†â€¢rand.Rangeâ‰ a â‹„ ! a â‰¡ (iâŠ‘a)âŒ¾(iâŠ¸âŠ‘) 2âŒ¾(iâŠ¸âŠ‘) a}Â¨â†•10000
100âŠ¸+âŒ¾(5âŠ¸âŠ‘) â¥Šâ†•4â€¿4 %% (100Ã—5=â†•16) + â¥Šâ†•4â€¿4
100âŠ¸+âŒ¾(Â¯5âŠ¸âŠ‘) â¥Šâ†•4â€¿4 %% (100Ã—11=â†•16) + â¥Šâ†•4â€¿4
100âŠ¸+âŒ¾âŠ‘ â¥Šâ†•4â€¿4 %% (100Ã—16â†‘1) + â¥Šâ†•4â€¿4
1âŠ¸+âŒ¾(Â¯2âŠ¸âŠ‘) â¥Šâ†•4 %% 0â€¿1â€¿3â€¿3
1âŠ¸+âŒ¾(Â¯2âŠ¸âŠ‘) â¥Š0.5+â†•4 %% 0.5â€¿1.5â€¿3.5â€¿3.5
# !% âŠ¢âŒ¾âŠ‘ 4 # TODO enable
# !% âŠ¢âŒ¾(âŠ‘âŠ‘) 4 # TODO enable

# âŠ
nâ†500 â‹„ aâ†â†•n â‹„ iâ†(-n)+â†•2Ã—n â‹„ râ†âŒ½(2Ã—n)â¥Ša â‹„ ! (âŒ½a) â‰¡ râŒ¾(iâŠ¸âŠ) a
!"ğ•¨âŠğ•©: ğ•© cannot be a unit" % 0â€¿0âŒ¾(0â€¿0âŠ¸âŠ) <0
!"Expected integer, got character" % 1âŠ¸+âŒ¾('a'âŠ¸âŠ) "hello"
!"Expected integer, got 1.5" % 1âŠ¸+âŒ¾(1.5âŠ¸âŠ) "hello"
!"ğ•¨âŠğ•©: Indexing out-of-bounds (100âˆŠğ•¨, 5â‰¡â‰ ğ•©)" % 1âŠ¸+âŒ¾(100âŠ¸âŠ) "hello"
!"ğ•¨âŠğ•©: Indexing out-of-bounds (100âˆŠğ•¨, 4â‰¡â‰ ğ•©)" % 1âŠ¸+âŒ¾(100âŠ¸âŠ) 4â€¿4â¥Šâ†•16
!"ğ•¨âŠğ•©: ğ•© cannot be a unit" % %USE evar â‹„ (â†•0) {âŠ¢âŒ¾(ğ•¨âŠ¸âŠ)ğ•©}_evar <0
!"ğ•¨âŠğ•©: Indexing out-of-bounds (Â¯11âˆŠğ•¨, 10â‰¡â‰ ğ•©)" % %USE evar â‹„ 5â€¿Â¯11 {0â€¿1âŒ¾(ğ•¨âŠ¸âŠ)ğ•©}_evar 10â¥Š1â€¿0â€¿1
!"ğ•¨âŠğ•©: Indexing out-of-bounds (10âˆŠğ•¨, 10â‰¡â‰ ğ•©)" %  %USE evar â‹„ 9â€¿10  {0â€¿1âŒ¾(ğ•¨âŠ¸âŠ)ğ•©}_evar 10â¥Š1â€¿0â€¿1
!"ğ•¨âŠğ•©: Indexing out-of-bounds (10âˆŠğ•¨, 10â‰¡â‰ ğ•©)" %  %USE evar â‹„ "ab" {ğ•¨âŒ¾(9â€¿10âŠ¸âŠ)ğ•©}_evar 10â¥Š"foo"
!"ğ•¨âŠğ•©: Indexing out-of-bounds (4.611686018427388e18âˆŠğ•¨, 3â‰¡â‰ ğ•©)" % %USE eqerr â‹„ {ğ•©âŒ¾((3â¥Š2â‹†62)âŠ¸âŠ) "abc"}_eqerr âŸ¨"abc", {ğ•Š: "abc"}âŸ©
!"ğ•¨âŠğ•©: Indexing out-of-bounds (2âˆŠğ•¨, 2â‰¡â‰ ğ•©)" % %USE evar â‹„ (3â€¿50â¥Š1â€¿0â€¿1) {ğ•¨âŒ¾(0â€¿2âŠ¸âŠ) ğ•©}_evar 2â€¿50â¥Šâ†•100
!"ğ•¨âŠğ•©: Indexing out-of-bounds (2âˆŠğ•¨, 2â‰¡â‰ ğ•©)" % %USE evar â‹„ 0â€¿2 {1Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_evar 2â€¿50â¥Š0
%USE eqvar â‹„ (2â€¿0â¥Š0) {ğ•¨âŒ¾(0â€¿1âŠ¸âŠ) ğ•©}_eqvar 10â€¿0â¥Š2 %% 10â€¿0â¥Š0
%USE eqerr â‹„ ! âŠ‘ (<â‹ˆâ¼ â·{1âŠ£ğ•©âŒ¾((3â¥Š2â‹†63)âŠ¸âŠ) "abc"}âŠ{ğ•Š: â€¢CurrentError@}Â¨ âŸ¨"abc", {ğ•Š: "abc"}âŸ©) âˆŠ "Integer out of range: 9.223372036854776e18"â€¿"ğ•¨âŠğ•©: Indexing out-of-bounds (9.223372036854776e18âˆŠğ•¨, 3â‰¡â‰ ğ•©)"
!"Expected integer, got 1.1" % %USE eqerr â‹„ {ğ•©âŒ¾((3â¥Š1.1)âŠ¸âŠ) â†•3}_eqerr âŸ¨â†•3, {1+ğ•©}âŸ©
!"ğ•¨âŠğ•©: Indexing out-of-bounds (10âˆŠğ•¨, 3â‰¡â‰ ğ•©)" % %USE eqerr â‹„ {ğ•©âŒ¾(10â€¿11â€¿12âŠ¸âŠ) â†•3}_eqerr âŸ¨â†•3, {1+ğ•©}âŸ©
100âŠ¸+âŒ¾(âŸ¨1â€¿2â€¿4âŸ©âŠ¸âŠ) <Â¨â†•10 %% <Â¨ 0â€¿101â€¿102â€¿3â€¿104â€¿5â€¿6â€¿7â€¿8â€¿9
100âŠ¸+âŒ¾(1â€¿2â€¿4âŠ¸âŠ) <Â¨â†•10   %% <Â¨ 0â€¿101â€¿102â€¿3â€¿104â€¿5â€¿6â€¿7â€¿8â€¿9
100âŠ¸+âŒ¾(1â€¿2â€¿4âŠ¸âŠ) â†•10     %%    0â€¿101â€¿102â€¿3â€¿104â€¿5â€¿6â€¿7â€¿8â€¿9
100âŠ¸+Â¨âŒ¾(1â€¿2â€¿4âŠ¸âŠ) â†•10    %%    0â€¿101â€¿102â€¿3â€¿104â€¿5â€¿6â€¿7â€¿8â€¿9
100âŠ¸+âŒ¾(1â€¿2â€¿Â¯4âŠ¸âŠ) <Â¨â†•10  %% <Â¨ 0â€¿101â€¿102â€¿3â€¿4â€¿5â€¿106â€¿7â€¿8â€¿9
100âŠ¸+âŒ¾(1â€¿2â€¿Â¯4âŠ¸âŠ) â†•10    %%    0â€¿101â€¿102â€¿3â€¿4â€¿5â€¿106â€¿7â€¿8â€¿9
âŸ¨10âŠ¸+âŒ¾(1â€¿2âŠ¸âŠ) 0â†“aâ†â†•4, aâŸ© %% âŸ¨0â€¿11â€¿12â€¿3,0â€¿1â€¿2â€¿3âŸ©
%USE eqvar â‹„ 0â€¿0â€¿1â€¿1 {ğ•¨âŒ¾(1â€¿2â€¿4â€¿5âŠ¸âŠ) ğ•©} _eqvar 1â€¿0â€¿1â€¿0â€¿1â€¿0â€¿1â€¿1â€¿0 %% 1â€¿0â€¿0â€¿0â€¿1â€¿1â€¿1â€¿1â€¿0
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected unit array, got atom)" % 10âŒ¾(2âŠ¸âŠ) â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected unit array, got atom)" % 0âŒ¾((<4)âŠ¸âŠ) "hello"
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected âŸ¨2âŸ©, got âŸ¨3âŸ©)" % 10â€¿20â€¿30âŒ¾(2â€¿3âŠ¸âŠ) â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected âŸ¨2âŸ©, got âŸ¨3âŸ©)" % 1âŠ¸âˆ¾âŒ¾(2â€¿3âŠ¸âŠ) â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected 3â€¿10, got 2â€¿10)" % %USE evar â‹„ 1âŠ¸â†“âŒ¾(2â€¿3â€¿4âŠ¸âŠ)_evar 10â€¿10â¥Š0
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected âŸ¨1âŸ©, got atom)" % %USE evar â‹„ âŸ¨0âŸ© {1âŒ¾(ğ•¨âŠ¸âŠ)ğ•©}_evar âŸ¨0âŸ©
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected 1â€¿3â€¿4, got atom)" % %USE evar â‹„ âŸ¨0âŸ© {1âŒ¾(ğ•¨âŠ¸âŠ)ğ•©}_evar 2â€¿3â€¿4â¥Š3
!"ğ”½âŒ¾(aâŠ¸âŠ)ğ•©: ğ”½ must return an array with the same shape as its input (expected 2â€¿3â€¿4â€¿5â€¿1, got âŸ¨2âŸ©)" % 1â€¿2âŒ¾((2â€¿3â€¿4â¥Š2)âŠ¸âŠ) 4â€¿5â€¿1â¥Š6
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % 3â€¿4âŒ¾(1â€¿1âŠ¸âŠ) â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % 3â€¿4âŒ¾(1â€¿Â¯9âŠ¸âŠ) â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % %USE evar â‹„ 3â€¿4  {ğ•¨âŒ¾(1â€¿Â¯9âŠ¸âŠ) ğ•©}_evar â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % %USE evar â‹„ "ab" {ğ•¨âŒ¾(1â€¿Â¯9âŠ¸âŠ) ğ•©}_evar 'a'+â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % 3â€¿4â€¿5âŒ¾(1â€¿1â€¿2âŠ¸âŠ) â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % 3â€¿4â€¿5âŒ¾(1â€¿1â€¿2âŠ¸âŠ) <Â¨â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % 3â€¿4â€¿5âŒ¾(1â€¿1â€¿2âŠ¸âŠ) aâ†<Â¨â†•10 â‹„ â€¢internal.Keep a
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % 3â€¿4âŒ¾(("Ah"â€¢internal.Variation 1â€¿1)âŠ¸âŠ) <Â¨â†•10
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % %USE evar â‹„ (27â‰ â†•30) {ğ•¨âŒ¾((30â¥Šâ†•10)âŠ¸âŠ) ğ•©} _evar 100â¥Š1
!"ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" % %USE evar â‹„ {{Â¬âŒ¾(31â€¿4âŠ¸âŠ‘)ğ•©}âˆ˜â€¢internal.KeepâŒ¾((âˆ¾10â¥Š<â†•â‰ ğ•©)âŠ¸âŠ) ğ•©} _evar 10â€¿5â¥Š1â€¿1â€¿0â€¿0â€¿1â€¿1
%USE eqvar â‹„ {Â¬âŒ¾((âˆ¾10â¥Š<â†•â‰ ğ•©)âŠ¸âŠ) ğ•©} _eqvar 10â€¿5â¥Š1â€¿1â€¿0â€¿0â€¿1â€¿1 %% 10â€¿5â¥Š0â€¿0â€¿1â€¿1â€¿0â€¿0
20â€¿20âŒ¾(1â€¿1âŠ¸âŠ) â†•10 %% 0â€¿20âˆ¾2+â†•8
100âŠ¸+âŒ¾(1â€¿2â€¿Â¯1âŠ¸âŠ) â†•5 %% 0â€¿101â€¿102â€¿3â€¿104
100âŠ¸+âŒ¾(1â€¿2â€¿Â¯1âŠ¸âŠ) <Â¨â†•5 %% <Â¨ 0â€¿101â€¿102â€¿3â€¿104
1âŠ¸+âŒ¾(((100â¥Šâ†•10)âˆ¾10/â†•10)âŠ¸âŠ) â†•10 %% 1+â†•10
%USE eqvar â‹„ 1âŠ¸+âŒ¾((2/â†•5)âŠ¸âŠ) _eqvar    â†•10 %%    <âŸœ5âŠ¸+ â†•10
%USE eqvar â‹„ 1âŠ¸+âŒ¾((2/â†•5)âŠ¸âŠ) _eqvar â‰Ë˜ â†•10 %% â‰Ë˜ <âŸœ5âŠ¸+ â†•10
%USE eqvar â‹„ â€¢internal.KeepâŒ¾((2/â†•5)âŠ¸âŠ) _eqvar 10â€¿0â€¿4â¥Š0 %% 10â€¿0â€¿4â¥Š0
%USE eqvar â‹„ (<âŸ¨âŸ©) {â€¢internal.KeepâŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvarÂ¨ âŸ¨0â€¿1, "ab"â€¿"cd"âŸ© %% âŸ¨0â€¿1, "ab"â€¿"cd"âŸ©
%USE eqvar â‹„ âŸ¨0Ã·0,0Ã·0âŸ© {ğ•¨âŒ¾(0â€¿0âŠ¸âŠ) ğ•©}_eqvar 3â¥Š0 %% âŸ¨0Ã·0,0,0âŸ©
%USE eqvar â‹„ %USE nz â‹„ 0â€¿0 {(0 InsNZ 2â¥Š0)âŒ¾(ğ•¨âŠ¸âŠ)ğ•©}_eqvar 3â¥Š3 %% 0â€¿3â€¿3
%USE eqvar â‹„ "CD" {ğ•¨Â¨âŒ¾(2â€¿3â€¿2â€¿3â€¿4âŠ¸âŠ) ğ•©}_eqvar 10â¥Š<"ab" %% "ab"â€¿"ab"â€¿"CD"â€¿"CD"â€¿"CD"â€¿"ab"â€¿"ab"â€¿"ab"â€¿"ab"â€¿"ab"
%USE eqvar â‹„ "CD" {ğ•¨Â¨âŒ¾(2â€¿3â€¿2â€¿1âŠ¸âŠ) ğ•©}_eqvar 5â€¿2â¥Š<"ab" %% â‰ËœË˜ "ab"â€¿"CD"â€¿"CD"â€¿"CD"â€¿"ab"
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {!Ë™Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 5â€¿2â¥Š<"ab" %% â‰ËœË˜ "ab"â€¿!â€¿!â€¿!â€¿"ab"
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {(   32âŠ¸+âŠ¸â‰Ë˜ "AB"â€¿"CD"â€¿"AB"â€¿"EF")âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 5â€¿2â¥Š<"?" %% 5â€¿2â¥ŠâŸ¨"?","?","ef","EF","ab","AB","cd","CD","?","?"âŸ©
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {{ğ•Š: 32âŠ¸+âŠ¸â‰Ë˜ "AB"â€¿"CD"â€¿"AB"â€¿"EF"}âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 5â€¿2â¥Š<"?" %% 5â€¿2â¥ŠâŸ¨"?","?","ef","EF","ab","AB","cd","CD","?","?"âŸ©
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {(0â€¿1âŠ¸+Ë˜ 10â€¿20â€¿10â€¿30)âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 5â€¿2â¥Šâ†•10 %% 5â€¿2â¥Š0â€¿1â€¿30â€¿31â€¿10â€¿11â€¿20â€¿21â€¿8â€¿9
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {0Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 5â€¿2â¥Š1 %% 5â€¿2â¥Š1â€¿1â€¿0â€¿0â€¿0â€¿0â€¿0â€¿0â€¿1â€¿1
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {0Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 5â€¿1â¥Š1 %% â‰Ë˜1â€¿0â€¿0â€¿0â€¿1
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {0Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 2â‰ â†•10 %% 1â€¿0â€¿0â€¿0â€¿1â€¿1â€¿1â€¿1â€¿1â€¿1
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {!Ë™Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar 2â‰ â†•10 %% 1â€¿!â€¿!â€¿!â€¿1â€¿1â€¿1â€¿1â€¿1â€¿1
%USE eqvar â‹„ [1â€¿2,3â€¿1,1â€¿8] {99Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar â†•10 %% 0â€¿99â€¿99â€¿99â€¿4â€¿5â€¿6â€¿7â€¿99â€¿9
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {'?'Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar "abcdefgh"+âŒœâ†•3 %% ["abc","???","???","???","efg","fgh","ghi","hij"]
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {'?'Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar "abcdefgh" %% "a???efgh"
%USE eqvar â‹„ 2â€¿3â€¿2â€¿1 {'ğ•¨'Â¨âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_eqvar "abcdefgh" %% "ağ•¨ğ•¨ğ•¨efgh"


# â¥Š
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (16 â‰¡ â‰¢â¥Šğ•©, âŸ¨17âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾â¥Š 4â€¿4â¥Šâ†•16
1âŠ¸+âŒ¾â¥Š 5      %% (<6)
1âŠ¸+âŒ¾â¥Š <5     %% (<6)
1âŠ¸+âŒ¾â¥Š â¥Š5     %% (â¥Š6)
1âŠ¸+âŒ¾â¥Š â†•2     %% 1â€¿2
1âŠ¸+âŒ¾â¥Š 2â€¿3â¥Šâ†•6 %% (1+2â€¿3â¥Šâ†•6)
âŒ½âŒ¾â¥Š 2â€¿3â¥Šâ†•6   %% (2â€¿3â¥ŠâŒ½â†•6)
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (1 â‰¡ â‰¢â¥Šğ•©, âŸ¨2âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾â¥Š 4
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (1 â‰¡ â‰¢â¥Šğ•©, âŸ¨2âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾â¥Š <4
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (1 â‰¡ â‰¢â¥Šğ•©, âŸ¨2âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾â¥Š â¥Š4
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (2 â‰¡ â‰¢â¥Šğ•©, âŸ¨3âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾â¥Š 1â€¿2
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (6 â‰¡ â‰¢â¥Šğ•©, âŸ¨7âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾â¥Š 2â€¿3â¥Šâ†•6
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (1 â‰¡ â‰¢â¥Šğ•©, âŸ¨âŸ© â‰¡ shape of result of ğ”½)" % âŠ‘âŒ¾â¥Š 4
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (1 â‰¡ â‰¢â¥Šğ•©, âŸ¨âŸ© â‰¡ shape of result of ğ”½)" % âŠ‘âŒ¾â¥Š <4
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (1 â‰¡ â‰¢â¥Šğ•©, âŸ¨âŸ© â‰¡ shape of result of ğ”½)" % âŠ‘âŒ¾â¥Š â¥Š4
!"ğ”½âŒ¾â¥Š: ğ”½ must return an array with the same shape as its input (2 â‰¡ â‰¢â¥Šğ•©, 2â€¿1 â‰¡ shape of result of ğ”½)" % 2â€¿1âŠ¸â¥ŠâŒ¾â¥Š 1â€¿2
# !% âŠ¢âŒ¾â¥Š 4 # TODO enable
# !% âŠ¢âŒ¾(3â¥ŠâŠ¢) 4 # TODO enable

â‰âŒ¾(2â€¿2âŠ¸â¥Š) â†•10 %% 0â€¿2â€¿1â€¿3â€¿4â€¿5â€¿6â€¿7â€¿8â€¿9
1âŠ¸+âŒ¾(10â€¿2âŠ¸â¥Š) â†•7 %% 1â€¿2â€¿3â€¿4â€¿5â€¿6â€¿7
{!ğ•©â‰¡<0 â‹„ <9}âŒ¾(âŸ¨âŸ©âŠ¸â¥Š) â†•7 %% 9â€¿1â€¿2â€¿3â€¿4â€¿5â€¿6
âŒ½âŒ¾(âˆ˜â€¿2âŠ¸â¥Š) â†•10 %% 8â€¿9â€¿6â€¿7â€¿4â€¿5â€¿2â€¿3â€¿0â€¿1
!"ğ”½âŒ¾(aâŠ¸â¥Š): ğ”½ must return an array with the same shape as its input (âŸ¨âŸ© â‰¡ â‰¢aâ¥Šğ•©, âŸ¨âŸ© â‰¡ shape of result of ğ”½)" % âŠ‘âŒ¾(âŸ¨âŸ©âŠ¸â¥Š) â†•7
!"ğ”½âŒ¾(aâŠ¸â¥Š): ğ”½ must return an array with the same shape as its input (âŸ¨2âŸ© â‰¡ â‰¢aâ¥Šğ•©, âŸ¨âŸ© â‰¡ shape of result of ğ”½)" % 0âŒ¾(2âŠ¸â¥Š) â†•10
!"ğ”½âŒ¾(aâŠ¸â¥Š): ğ”½ must return an array with the same shape as its input (âŸ¨2âŸ© â‰¡ â‰¢aâ¥Šğ•©, âŸ¨1âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸â†“âŒ¾(2âŠ¸â¥Š) â†•10
!"ğ”½âŒ¾(aâŠ¸â¥Š): ğ”½ must return an array with the same shape as its input (2â€¿2 â‰¡ â‰¢aâ¥Šğ•©, 1â€¿2 â‰¡ shape of result of ğ”½)" % 1âŠ¸â†“âŒ¾(2â€¿2âŠ¸â¥Š) â†•10
!"ğ”½âŒ¾(aâŠ¸â¥Š): ğ”½ must return an array with the same shape as its input (2â€¿2 â‰¡ â‰¢aâ¥Šğ•©, âŸ¨âŸ© â‰¡ shape of result of ğ”½)" % âŠ‘âŒ¾(2â€¿2âŠ¸â¥Š) â†•10
!"ğ”½âŒ¾(aâŠ¸â¥Š): ğ”½ must return an array with the same shape as its input (3â€¿2 â‰¡ â‰¢aâ¥Šğ•©, 2â€¿3 â‰¡ shape of result of ğ”½)" % â‰âŒ¾(3â€¿2âŠ¸â¥Š) â†•10
!"â¼: Inverse not found" % âŠ‘âŒ¾(2â€¿20âŠ¸â¥Š) â†•10
!"â¼: Inverse not found" % â‰âŒ¾(3â€¿20âŠ¸â¥Š) â†•10
1âŠ¸+âŒ¾(2â€¿2âŠ¸â¥Š) 5 %% <6
!"âŒ¾: Incompatible result elements in structural Under" % 1â€¿2âŠ¸+âŒ¾(2â€¿2âŠ¸â¥Š) 5
10â€¿20â€¿30âŠ¸+Ë˜âŒ¾(4â€¿3âŠ¸â¥Š) 1â€¿2â€¿3 %% 11â€¿22â€¿33


# /
!"ğ•¨/ğ•©: Lengths of components of ğ•¨ must match ğ•© (3 â‰  10)" % 1âŠ¸âˆ¾âŒ¾(1â€¿0â€¿1âŠ¸/) â†•10
10âŠ¸+âŒ¾(âŸ¨1,0â€¿1âŸ©âŠ¸/)â†•2â€¿2 %% 2â€¿2â¥ŠâŸ¨0â€¿0,10â€¿11,1â€¿0,11â€¿11âŸ©
!"ğ”½âŒ¾(aâŠ¸/): Incompatible result elements" % 1â€¿2âŒ¾(2â€¿0âŠ¸/)â†•2
1âŠ¸+âŒ¾((â†•10)âŠ¸/) â†•10 %% Ã—âŠ¸+ â†•10
%USE eqvar â‹„ <â€¿â‰¥â€¿> {ğ•¨âŒ¾(1â€¿0â€¿0â€¿1â€¿1âŠ¸/) ğ•©}_eqvar +â€¿-â€¿Ã—â€¿Ã·â€¿â‹† %% <â€¿-â€¿Ã—â€¿â‰¥â€¿>
%USE eqvar â‹„ ["wx"â€¿"WX","yz"â€¿"YZ"] {ğ•¨âŒ¾(1â€¿0â€¿0â€¿1âŠ¸/) ğ•©}_eqvar (<"aA")+â†•4â€¿2 %% 4â€¿2â¥ŠâŸ¨"wx","WX","bA","bB","cA","cB","yz","YZ"âŸ©
{mâ†ğ•©â€¢rand.Range 2 â‹„ ! (m{ğ•¨?"huh";â¥Š'a'+ğ•©}Â¨â†•ğ•©) â‰¡ "huh"Â¨âŒ¾(mâŠ¸/) 'a'+â†•â‹ˆğ•©}Â¨ â†•100
!"Integer out of range: 3.68934881474191e19" % 1Â¨âŒ¾(aâŠ¸/) aâ†100â¥Š2â‹†65
!"Expected non-negative integer, got Â¯10" % %USE evar â‹„ 1Â¨âŒ¾(aâŠ¸/)_evar aâ†Â¯10âŒ¾(50âŠ¸âŠ‘) 100â¥Š10

# â†“ & â†‘
!"ğ”½âŒ¾(nâŠ¸â†‘)ğ•©: ğ”½ must return an array with the same shape as its input (2 â‰¡ n, âŸ¨1âŸ© â‰¡ shape of result of ğ”½)" % âŸ¨1âŸ©âŒ¾(2âŠ¸â†‘) â†•4
!"ğ”½âŒ¾(nâŠ¸â†“)ğ•©: ğ”½ must return an array with the same shape as its input (2 â‰¡ n, âŸ¨1âŸ© â‰¡ shape of result of ğ”½)" % âŸ¨1âŸ©âŒ¾(2âŠ¸â†“) â†•4
!"ğ”½âŒ¾(nâŠ¸â†‘)ğ•©: ğ”½ must return an array with the same shape as its input (Â¯2 â‰¡ n, âŸ¨3âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾(Â¯2âŠ¸â†‘) â†•4
!"ğ”½âŒ¾(nâŠ¸â†“)ğ•©: ğ”½ must return an array with the same shape as its input (Â¯2 â‰¡ n, âŸ¨3âŸ© â‰¡ shape of result of ğ”½)" % 1âŠ¸âˆ¾âŒ¾(Â¯2âŠ¸â†“) â†•4
!"ğ”½âŒ¾(nâŠ¸â†“)ğ•©: ğ”½ must return an array with the same shape as its input (5 â‰¡ n, âŸ¨1âŸ© â‰¡ shape of result of ğ”½)" % âŸ¨1âŸ©âŒ¾(5âŠ¸â†“) â†•4
!"ğ”½âŒ¾(nâŠ¸â†“)ğ•©: ğ”½ must return an array with the same shape as its input (1 â‰¡ n, 4â€¿5â€¿2 â‰¡ shape of result of ğ”½)" % â‰âŒ¾(1âŠ¸â†“) 3â€¿4â€¿5â¥Šâ†•60
!"ğ”½âŒ¾(nâŠ¸â†‘)ğ•©: ğ”½ must return an array with the same shape as its input (Â¯2 â‰¡ n, 4â€¿5â€¿2 â‰¡ shape of result of ğ”½)" % â‰âŒ¾(Â¯2âŠ¸â†‘) 3â€¿4â€¿5â¥Šâ†•60
!"ğ”½âŒ¾(nâŠ¸â†‘)ğ•©: Cannot modify fill with Under (5 â‰¡ n, âŸ¨4âŸ© â‰¡ â‰¢ğ•©)" % âŠ¢âŒ¾(5âŠ¸â†‘) â†•4
âŸ¨âŸ©âŒ¾(4âŠ¸â†“) â†•4 %% â†•4
âŸ¨âŸ©âŒ¾(5âŠ¸â†“) â†•4 %% â†•4
â€¢internal.KeepâŒ¾(Â¯5âŠ¸â†“) â†•4 %% â†•4
{!(aÃ—1+9Ã— 0â€¿1â€¿2âˆŠğ•©+â†•3) â‰¡ 10âŠ¸Ã—âŒ¾(ğ•©âŠ¸â†“) aâ†3â€¿4â€¿5â¥Šâ†•60}Â¨ Â¯5+â†•10
{!(aÃ—1+9Ã—Â¬0â€¿1â€¿2âˆŠğ•©+â†•3) â‰¡ 10âŠ¸Ã—âŒ¾(ğ•©âŠ¸â†‘) aâ†3â€¿4â€¿5â¥Šâ†•60}Â¨ Â¯3+â†•7

%USE eqvar â‹„ 9â€¿0â€¿0â€¿0â€¿5â€¿3 {  1Â¨âŒ¾(ğ•¨âŠ¸/)ğ•©}_eqvar 0â€¿1â€¿0â€¿1â€¿0â€¿1 %% 1â€¿1â€¿0â€¿1â€¿1â€¿1
%USE eqvar â‹„ 1â€¿0â€¿0â€¿0â€¿1â€¿1 {  1Â¨âŒ¾(ğ•¨âŠ¸/)ğ•©}_eqvar 0â€¿1â€¿0â€¿1â€¿0â€¿1 %% 1â€¿1â€¿0â€¿1â€¿1â€¿1
%USE eqvar â‹„ 1â€¿0â€¿0â€¿0â€¿1â€¿1 {  0Â¨âŒ¾(ğ•¨âŠ¸/)ğ•©}_eqvar 0â€¿1â€¿0â€¿1â€¿0â€¿1 %% 0â€¿1â€¿0â€¿1â€¿0â€¿0
%USE eqvar â‹„ 1â€¿0â€¿0â€¿0â€¿1â€¿1 {'!'Â¨âŒ¾(ğ•¨âŠ¸/)ğ•©}_eqvar 0â€¿1â€¿0â€¿1â€¿0â€¿1 %% '!'â€¿1â€¿0â€¿1â€¿'!'â€¿'!'
%USE eqvar â‹„ 1â€¿0â€¿0â€¿0â€¿1â€¿1 { â‰¥Ë™Â¨âŒ¾(ğ•¨âŠ¸/)ğ•©}_eqvar 0â€¿1â€¿0â€¿1â€¿0â€¿1 %% â‰¥â€¿1â€¿0â€¿1â€¿â‰¥â€¿â‰¥
%USE eqvar â‹„ 1â€¿0â€¿0â€¿0â€¿1â€¿1 {  3Â¨âŒ¾(ğ•¨âŠ¸/)ğ•©}_eqvar "hellow" %% 3â€¿'e'â€¿'l'â€¿'l'â€¿3â€¿3
%USE eqvar â‹„ 1â€¿0â€¿0â€¿0â€¿1â€¿1 { +Ë™Â¨âŒ¾(ğ•¨âŠ¸/)ğ•©}_eqvar -â€¿Ã·â€¿Ã—â€¿=â€¿<â€¿> %% +â€¿Ã·â€¿Ã—â€¿=â€¿+â€¿+
!"ğ•¨/ğ•©: Lengths of components of ğ•¨ must match ğ•© (6 â‰  7)" % 0Â¨âŒ¾(1â€¿0â€¿0â€¿0â€¿1â€¿1âŠ¸/) 0â€¿1â€¿0â€¿1â€¿0â€¿1â€¿0
4â†‘ (â‹ˆâ‹ˆ3)âŒ¾(0â€¿1â€¿0âŠ¸/) â†•â‹ˆ3 %% âŸ¨â‹ˆ0,â‹ˆ3,â‹ˆ2,â‹ˆ0âŸ©
4â†‘     âŠ¢âŒ¾(0â€¿1â€¿0âŠ¸/) â†•â‹ˆ3 %% âŸ¨â‹ˆ0,â‹ˆ1,â‹ˆ2,â‹ˆ0âŸ©
4â†‘     âŠ¢âŒ¾(0â€¿0â€¿0âŠ¸/) â†•â‹ˆ3 %% âŸ¨â‹ˆ0,â‹ˆ1,â‹ˆ2,â‹ˆ0âŸ©

# <
âŠ¢âŒ¾< 4 %% 4
(<5)âŒ¾< 4 %% 5
{<"cd"}âŒ¾< "ab" %% "cd"
!"<â¼ğ•©: Argument wasn't a rank 0 array" % 4âŒ¾< "ab"
!"<â¼ğ•©: Argument wasn't a rank 0 array" % {â‡}âŒ¾< "ab"
!"<â¼ğ•©: Argument wasn't a rank 0 array" % â‰âŒ¾< 2

# â‹ˆ
âŠ¢âŒ¾â‹ˆ 4 %% 4
(â‹ˆ5)âŒ¾â‹ˆ 4 %% 5
{â‹ˆ"cd"}âŒ¾â‹ˆ "ab" %% "cd"
!"â‹ˆâ¼ğ•©: Argument wasn't a length-1 list" % 4âŒ¾â‹ˆ "ab"
!"â‹ˆâ¼ğ•©: Argument wasn't a length-1 list" % {â‡}âŒ¾â‹ˆ "ab"
!"â‹ˆâ¼ğ•©: Argument wasn't a length-1 list" % â‰âŒ¾â‹ˆ 2
!"â‹ˆâ¼ğ•©: Argument wasn't a length-1 list" % (<4)âŒ¾â‹ˆ 2

# kâŠ¸âŒ½
!"ğ•¨âŒ½â¼ğ•©: ğ•© must have rank at least 1" % 1âŒ¾(2âŠ¸âŒ½) â†•10
âŠâŒ¾(2âŠ¸âŒ½) 10â€¿10â¥Šâ†•100 %% 28â€¿29â€¿20â€¿21â€¿22â€¿23â€¿24â€¿25â€¿26â€¿27
â‰âŒ¾(1â€¿2âŠ¸âŒ½) 5â€¿5â¥Šâ†•25 %% 1â€¿5â€¿5â¥Š22â€¿23â€¿24â€¿20â€¿21â€¿2â€¿3â€¿4â€¿0â€¿1â€¿7â€¿8â€¿9â€¿5â€¿6â€¿12â€¿13â€¿14â€¿10â€¿11â€¿17â€¿18â€¿19â€¿15â€¿16

# NaN things
âŸ¨@â‹ˆ0Ã·0, @â‹ˆ-0Ã·0âŸ©âŒ¾(0â€¿0âŠ¸âŠ) â‹ˆ3 %% â‹ˆ@ â‹ˆ 0Ã·0
(
  %USE eqvar
  _test_ â† { set Repl _ğ•£_ different exp:
    # â€¢Show âŸ¨"test", set, Repl, expâŸ©
    bad â‡ {â‡}
    _res â† {different? "ok"âˆ˜ğ”½; ğ”½}
    _mod â† {exp? ğ”½; {"Expected error!"!badâ‰¢ğ•©â‹„ğ•©}âˆ˜(badâˆ˜ğ”½âŠ{ğ•Š: â€¢CurrentError@})}
    
    HasMsg â† {âŸ¨"mismatched result/error message", exp, ğ•¨, ğ•©âŸ© ! (Â¬exp) â‰¡ ğ•¨â‰¡ğ•©}
    
    exp {
      @ğ•ŠÂ·: @;
      ğ•¨ğ•Š0:
        (1â€¿0â€¿1â€¿1âˆ¾6â¥Š0) {ReplâŒ¾(ğ•¨âŠ¸/) ğ•©}_res _eqvar 10â¥Š0â€¿1
        "ğ”½âŒ¾(aâŠ¸/): Incompatible result elements"               HasMsg (1â€¿0â€¿2âˆ¾7â¥Š0) {    Repl âŒ¾(ğ•¨âŠ¸/) ğ•©}_res _mod _eqvar 10  â¥Š0â€¿1
        "âŒ¾: Incompatible result elements in structural Under" HasMsg (1â€¿0â€¿2âˆ¾7â¥Š0) {(3â¥ŠË˜Repl)âŒ¾(ğ•¨âŠ¸/) ğ•©}_res _mod _eqvar 10â€¿3â¥Š0â€¿1
        
        1â€¿2â€¿5 {ReplâŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_res _eqvar 10â¥Š0â€¿1
        "ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" HasMsg 1â€¿4â€¿4 {    Repl âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_res _mod _eqvar 10  â¥Š0â€¿1
        "ğ”½âŒ¾(aâŠ¸âŠ): Incompatible result elements" HasMsg 1â€¿4â€¿4 {(3â¥ŠË˜Repl)âŒ¾(ğ•¨âŠ¸âŠ) ğ•©}_res _mod _eqvar 10â€¿3â¥Š0â€¿1
      ;
      ğ•¨ğ•Š1:
        "âŒ¾: Incompatible result elements in structural Under" HasMsg 1â€¿2â€¿2 {ReplâŒ¾âŠ‘âŒ¾(ğ•¨âŠ¸âŠÂ¨) â‹ˆğ•©}_res _mod 0â€¿1â€¿0
    } set
  }
  Batch â† { differentâ€¿expNativeâ€¿expRuntimeâ€¿Get:
    val â† Get@
    { ğ•Š rt:
      # â€¢Show âŸ¨"batch", get, val, rtâŸ©
      expNewâ€¿expSame â† {rt? expRuntime; expNative}
      rt (GetÂ¨     ) _test_ different expNew
      rt (GetÂ¨   â†•3) _test_ different expNew
      rt {ğ•Š: 3â¥Š<val} _test_ 0 expSame
      rt (   3â¥Š<val) _test_ 0 expSame
      rt (valË™Â¨    ) _test_ 0 expSame
    }Â¨ 0â€¿1
  }
  ShouldNotBeCalled â† { ğ•Š:
    ! â€¢Show "I should not be called!"
  }
  BatchÂ¨ âŸ¨
    âŸ¨0, 1â€¿1, 1â€¿1, 0Ã·0âŸ©
    âŸ¨0, 1â€¿1, 1â€¿1, <0Ã·0âŸ©
    âŸ¨0, 1â€¿1, 1â€¿1, âŸ¨3,0Ã·0,4âŸ©âŸ©
    âŸ¨0, 1â€¿1, 1â€¿1, {ğ•Š: ShouldNotBeCalled}âŸ©
    âŸ¨0, 1â€¿1, 1â€¿1, ShouldNotBeCalledË™âŸ©
    âŸ¨0, 1â€¿1, 1â€¿1, {ğ•Š: ShouldNotBeCalledâŸœ(0Ã·0)}âŸ©
    âŸ¨0, 1â€¿1, 1â€¿1, ShouldNotBeCalledâŸœ(0Ã·0)Ë™âŸ©
    âŸ¨0, 1â€¿1, 1â€¿1, âˆâŸ©
    âŸ¨1, 0â€¿1, 0â€¿1, {ğ•Š: 4âŠ¸{ğ•©}}âŸ©
    âŸ¨1, 0â€¿1, 0â€¿1, {ğ•Š: (0Ã·0)âŠ¸{ğ•©}}âŸ©
  âŸ©
)
