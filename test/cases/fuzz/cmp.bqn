### WHOLE-FILE-TEST
# tests scalar comparison functions =â‰ <â‰¤>â‰¥
helpers â† âŠ‘â€¢args
noerr â† helpers.shouldNotError # %ALLOW_CATCH
r â† helpers.GetRand@
fns â† =â€¿â‰ â€¿<â€¿â‰¤â€¿>â€¿â‰¥
n â† 0Ã·0
nn â† -n
arrs â† â€¢internal.SqueezeÂ¨ âŸ¨
  "hello","{â‰âµ}","{â‰ğ•©}"
  @+0â€¿1â€¿2â€¿126â€¿127
  @+0â€¿1â€¿2â€¿126â€¿127â€¿128â€¿129
  @+0â€¿1â€¿2â€¿65533â€¿65534â€¿65535
  "",â†•0
  1â€¿2â€¿3 â‹„ Â¯1â€¿0â€¿1 â‹„ â†•10 â‹„ Â¯5+â†•10 â‹„ 1â€¿1.5â€¿0â€¿0â€¿4â€¿Ï€ â‹„ -1â€¿1.5â€¿0â€¿0â€¿4â€¿Ï€ â‹„ nâ€¿nnâ€¿nâ€¿nâ€¿nnâˆ¾(-0â€¿2â€¿Ï€)âˆ¾1â€¿2â€¿5â€¿0â€¿0Ã·0â€¿0â€¿3â€¿5â€¿0
  Â¯128â€¿Â¯1â€¿0â€¿1â€¿127
  Â¯32768â€¿Â¯1â€¿0â€¿1â€¿32767
  Â¯2147483648â€¿Â¯1â€¿0â€¿1â€¿2147483647
  Â¯2147483648â€¿Â¯1â€¿0â€¿1â€¿2147483648
  63 r.Range 2
  64 r.Range 2
  65 r.Range 2
  90 r.Range 2
âŸ©
atms â† 1â€¿Â¯1â€¿0â€¿Â¯0â€¿âˆâ€¿Â¯âˆâ€¿nâ€¿nnâ€¿@â€¿'l'â€¿'â‰'â€¿'ğ•©'â€¿{aâ‡1}â€¿+â€¿{ğ”½}
atmsâˆ¾â†© -âŠ¸âˆ¾ 10â‹†â†•20
atmsâˆ¾â†© -âŠ¸âˆ¾ â¥Š(â¥ŠÂ¯0.9â€¿Â¯0.1â€¿0â€¿0.1â€¿0.9+âŒœ2-â†•5) +âŒœ 2â‹†â†•35
atmsâˆ¾â†© @+â¥Š128â€¿65536+âŒœ2-â†•5

LV â† â€¢internal.ListVariations
V â† â€¢internal.Variation
C â† â€¢internal.ClearRefs
ElType â† â€¢internal.ElType

NEas â† ((âŠ‘Â¨âˆŠ=â€¿â‰ Ë™) âˆ¨ 8â‰ Â·ElType 2âŠ‘Â¨âŠ¢)âŠ¸/

# â€¢Out "AS"
{
fnâ€¿arrâ€¿atm:
  C@ â‹„ âˆ§Â´(âŠâ‰¡Â¨âŠ¢) {(ğ•© V arr) FnâŠ"err" atm}Â¨ LV arr?0;
fnâ€¿arrâ€¿atm:
  â€¢Out "Fail:"
  â€¢Show arr
  â€¢Show fn
  â€¢Show atm
  â€¢Show â‰(LV arr)â‰{(ğ•© V arr) FnâŠ"err" atm}Â¨ LV arr
  ! 0
}Â¨ NEasâŸnoerr â¥Š(<âŸ¨âŸ©)<âŠ¸âˆ¾âŒœÂ´ fnsâ€¿arrsâ€¿atms

# â€¢Out "AA"
{
fnâ€¿lâ€¿r:
  C@
  lrâ†(âŒˆÂ´â‰ Â¨lâ€¿r)â†‘Â¨lâ€¿r
  âˆ§Â´(âŠâ‰¡Â¨âŠ¢) {fnâŠ"err"Ëğ•© VÂ¨ lr}Â¨ â¥Šâ‰â—‹<âŒœÂ´ LVÂ¨lr?0;
  ğ•©!0
}Â¨ (â¥Š(<âŸ¨âŸ©)<âŠ¸âˆ¾âŒœÂ´ âŸ¨fnsâŸ© âˆ¾ 2â¥Š< (0<â‰ Â¨)âŠ¸/arrs) âˆ¾ â¥Š(<âŸ¨âŸ©)<âŠ¸âˆ¾âŒœÂ´ âŸ¨fnsâŸ© âˆ¾ 2â¥Š<âŸ¨"" â‹„ â†•0 â‹„ âŸ¨âŸ©âŸ©